<UserControl
    x:Class="Vts.Gui.Wpf.View.MonteCarloSolverView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:view="clr-namespace:Vts.Gui.Wpf.View"
    xmlns:viewModel="clr-namespace:Vts.Gui.Wpf.ViewModel"
    VerticalAlignment="Top">
    <UserControl.DataContext>
        <viewModel:MonteCarloSolverViewModel />
    </UserControl.DataContext>
    <StackPanel Orientation="Vertical" VerticalAlignment="Top">
        <TextBlock Text="Specify Inputs From File (recommended)" FontWeight="Bold" />
        <StackPanel Orientation="Horizontal" Margin="3,0,0,0">
            <TextBlock Text="(Check out this useful " VerticalAlignment="Center" />
            <!--<HyperlinkButton NavigateUri="http://www.jsoneditoronline.org/" TargetName="_blank">
                <TextBlock Text="JSON" VerticalAlignment="Center" />
            </HyperlinkButton>-->
            <TextBlock Text=" manipulation tool)" VerticalAlignment="Center" />
        </StackPanel>

        <StackPanel Orientation="Horizontal">
            <Button VerticalAlignment="Bottom" Command="{Binding LoadSimulationInputCommand}"
                    Content="Load Input File"
                    Width="180" Height="30" Margin="5" />
            <Button VerticalAlignment="Bottom" Command="{Binding DownloadDefaultSimulationInputCommand}"
                    Content="Download Prototype Input Files"
                    Width="180" Height="30" Margin="5" />
        </StackPanel>

        <StackPanel DataContext="{Binding SimulationInputVM, Mode=TwoWay}">
            <TextBlock Text="Basic Info" FontWeight="Bold" />
            <StackPanel Orientation="Horizontal" Margin="3,0,0,0">
                <TextBlock Text="Number of Photons:" VerticalAlignment="Center" />
                <TextBox Text="{Binding N, Mode=TwoWay}" Width="100" Margin="2,0,0,0" KeyDown="TextBox_KeyDown" />
            </StackPanel>

            <StackPanel Orientation="Vertical" DataContext="{Binding SimulationOptionsVM}">
                <TextBlock Text="Simulation Options" FontWeight="Bold" />
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" Margin="3,0,0,0">
                    <CheckBox IsChecked="{Binding TallySecondMoment, Mode=TwoWay}" VerticalAlignment="Center" />
                    <TextBlock Text="Tally second moment" VerticalAlignment="Center" Margin="0,0,10,0" />
                    <CheckBox IsChecked="{Binding TrackStatistics, Mode=TwoWay}" VerticalAlignment="Center" />
                    <TextBlock Text="Track statistics" VerticalAlignment="Center" TextAlignment="Left"
                               Margin="0,0,10,0" />
                    <TextBlock Text="Seed:" VerticalAlignment="Center" />
                    <TextBox Text="{Binding Seed, Mode=TwoWay}" Width="60" VerticalAlignment="Center" Margin="2,0,0,0"
                             KeyDown="TextBox_KeyDown" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="3,0,0,0">
                    <TextBlock Text="Absorption Weighting Type:" VerticalAlignment="Center" />
                    <view:RadioButtonOptionView DataContext="{Binding AbsorptionWeightingTypeVM, Mode=TwoWay}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Visibility="Collapsed" Margin="3,0,0,0">
                    <TextBlock Text="Random NumberGenerator Type:" VerticalAlignment="Center" />
                    <view:RadioButtonOptionView DataContext="{Binding RandomNumberGeneratorTypeVM, Mode=TwoWay}" />
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="3,0,0,0">
                    <TextBlock Text="Phase Function Type:" VerticalAlignment="Center" HorizontalAlignment="Left" />
                    <view:RadioButtonOptionView DataContext="{Binding PhaseFunctionTypeVM, Mode=TwoWay}" />
                </StackPanel>
            </StackPanel>
            <view:MultiRegionOpticalPropertyView DataContext="{Binding TissueInputVM, Mode=TwoWay}" />
            <!-- Move these to the MultiRegionOpticalPropertyView:
                                                <client:LayoutTransformer Margin="2,2,4,2" UseLayoutRounding="True" VerticalAlignment="Center">
                                        <client:LayoutTransformer.LayoutTransform>
                                            <RotateTransform Angle="-90"/>
                                        </client:LayoutTransformer.LayoutTransform>
                                        <TextBlock Text="{Binding Name}" FontWeight="Bold"/>
                                    </client:LayoutTransformer>
                                    <StackPanel Orientation="Vertical">
            -->

        </StackPanel>

        <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
            <Button VerticalAlignment="Bottom" Command="{Binding ExecuteMonteCarloSolverCommand}"
                    Content="Run Simulation"
                    Width="120" Height="30" Margin="5" />
            <Button VerticalAlignment="Bottom" Command="{Binding CancelMonteCarloSolverCommand}"
                    Content="Cancel Simulation"
                    Width="120" Height="30" Margin="5" />
            <Button VerticalAlignment="Bottom" Command="{Binding SaveSimulationResultsCommand}"
                    Content="Save Simulation Results"
                    Width="160" Height="30" Margin="5" />
        </StackPanel>

    </StackPanel>
</UserControl>